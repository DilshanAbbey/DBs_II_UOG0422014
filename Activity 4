// Creating the database and the table

CREATE DATABASE ABXCompany;
\c abxcompany
CREATE TABLE product ( product_id INT GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY, name VARCHAR (255), price FLOAT, stock_quantity INT);

// Creating the procedure

CREATE OR REPLACE PROCEDURE add_product(product_name VARCHAR(255), price FLOAT, stock_quantity INT)
LANGUAGE plpgsql
AS
$$
BEGIN
	INSERT INTO product (name, price, stock_quantity) VALUES ( product_name, price, stock_quantity);
	RAISE NOTICE 'Product named % added', product_name;
END;
$$;

// Calling the procedure

CALL add_product('Haloween Mask', 27000.00, 10);
